{% extends 'base.html' %}

{% block title %}Tu Carrito | LicorerÃ­a Premium{% endblock %}

{% block content %}
<h1 style="color: var(--accent-color); margin-bottom: 2rem;">Tu Pedido Actual</h1>

{% if items %}
<table>
    <thead>
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Precio Unit.</th>
            <th>Subtotal</th>
            <th>AcciÃ³n</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.producto.nombre }}</td>
            <td>{{ item.cantidad }}</td>
            <td>${{ item.producto.precio }}</td>
            <td>${{ item.subtotal }}</td>
            <td><a href="{% url 'eliminar_carrito' item.producto.id %}" class="btn btn-danger"
                    style="padding: 6px 12px; font-size: 0.9rem;">Eliminar</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<div style="text-align: right; margin-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem;">
    <h2 style="font-size: 2.5rem; margin: 0 0 1rem 0; color: var(--price-color);">Total: ${{ total }}</h2>
    <div style="display: flex; justify-content: flex-end; gap: 1rem;">
        <a href="{% url 'index' %}" class="btn btn-secondary">Seguir Comprando</a>
        <a href="{% url 'checkout_whatsapp' %}" class="btn btn-primary" style="background: #25D366;">Enviar Pedido por
            WhatsApp ðŸ“±</a>
    </div>
</div>
{% else %}
<div style="text-align: center; padding: 4rem;">
    <h2 style="color: #64748b; margin-bottom: 2rem;">Tu carrito estÃ¡ vacÃ­o ðŸ›’</h2>
    <a href="{% url 'index' %}" class="btn btn-primary">Volver a la tienda</a>
</div>
{% endif %}
{% endblock %}